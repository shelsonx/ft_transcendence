{% load i18n %}
{% load timedelta_tags %}

{% if user %}
  <h1>{% translate "User Tournaments" %}</h1>
{% else %}
  <h1>{% translate "Tournaments" %}</h1>
{% endif %}

<div id="tournaments-table" class="table-responsive">
  <table class="table table-dark align-middle">
    <thead>
      <tr>
        <th class="tournaments-table-title">{% translate "Date / Status" %}</th>
        <th class="tournaments-table-title">{% translate "Tournament Type" %}</th>
        <th class="tournaments-table-title">{% translate "Players" %}</th>
        <th class="tournaments-table-title">{% translate "Games" %}</th>
        <th class="tournaments-table-title">{% translate "Winner" %}</th>
        {% if user %}
          {% comment %} column to indicate that the user won {% endcomment %}
          <th></th>
          {% comment %} column to indicate some user record? {% endcomment %}
          <th></th>
        {% endif %}
      </tr>
    </thead>
    <tbody>
      {% for tournament in tournament_list %}
        {% comment %} {% if tournament.status == TournamentStatus.ENDED or user %} {% endcomment %}
          <tr class="tournament-row" id="tournament_{{tournament.pk}}" onclick="window.location='#tournament';">
            {% if tournament.status == TournamentStatus.ENDED %}
              <td>{{ tournament.date }}</td>
            {% else %}
              <td>{{ tournament.status_label }}</td>
            {% endif %}
            <td>{{ tournament.type_label }}</td>
            <td>{{ tournament.number_of_players }}</td>
            <td>{{ tournament.games_count }}</td>
            <td>
              {% if tournament.status == tournamentStatus.ENDED %}
                {{ tournament.winner }}
              {% else %}
                -
              {% endif %}
            </td>
          </tr>
        {% comment %} {% endif %} {% endcomment %}
      {% endfor %}
    </tbody>
  </table>
</div>

{% if is_paginated %}
  {{ paginator.num_pages }}
  {{ paginator.page_obj }}
{% endif %}
